<app-navigate-back class="ft600 ft16 gray-10" targetUrl="/admin/articles">Artículos</app-navigate-back>
<!-- <button (click)="createAuthors()" >Create test authors</button> -->
<div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="3rem" class="fw pd20">
    <div style="display: flex; flex-direction: row; gap: 20px; margin-top: 20px; justify-content: center;">
        <button (click)="format = 'html'" class="blueButton">HTML</button>
        <button (click)="format = 'object'" class="blueButton">Object</button>
        <button (click)="format = 'json'" class="blueButton">Json</button>
        <button (click)="format = 'text'" class="blueButton">Text</button>
        <button (click)="debug()" class="blueButton">Print result</button>
        <button (click)="save()" class="blueButton">Save result</button>
    </div>
    <div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap=".5rem" class="w-90">

        <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem" class="">
            <span>Título:</span>
            <input type="text" [(ngModel)]="title" class="ft14 shadow-animation pdl05 pdr05 radius20 borderLight"
                style="text-align: center; width: 32vw;" />
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem" class="">
            <span>Autor:</span>
            <select [(ngModel)]="selectedAuthorId" class="ft14 shadow-animation pdl05 pdr05 radius20 borderLight" style="text-align: center; width: 23vw;">
                <option *ngFor="let author of authors" [value]="author.id">{{ author.name }}</option>
            </select>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem" class="">
            <span>Slug:</span>
            <input id="slug" name="slug" [(ngModel)]="slug" #slugCtrl="ngModel"
                class="ft14 shadow-animation pdl05 pdr05 radius20 borderLight" required
                pattern="^[a-z0-9]+(?:-[a-z0-9]+)*$" />
        </div>
        <div *ngIf="slugCtrl.invalid && slugCtrl.touched">
            <span style="color: red" *ngIf="slugCtrl.errors?.required">Slug is required.</span>
            <span style="color: red" *ngIf="slugCtrl.errors?.pattern">Invalid slug format.</span>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem" class="">
            <span>Etiquetas:</span>
            <ng-container *ngFor="let tag of tags; let tagIndex = index">
                <div class="skill-badge-complete ListHover radius10 backGray2 ft12 pdl08 pdr08 gray-8">
                    {{ tag }}
                    <img style="cursor: pointer" (click)="removeTag(tagIndex)" [src]="icon.close" class="h16px makeGray"
                        alt="" />
                </div>
            </ng-container>
            <div class="">
                <div matTooltip="Agregar etiqueta" style="display: inline-block; margin-right: 5px"
                    (click)="createTag(createTagModal)" class="backGray2 radius20 pdl03 pdr03 gray-8">
                    <img style="cursor: pointer" [src]="icon.addBlue" class="h16px ft600" alt="" />
                </div>
            </div>
        </div>

        <quill-editor [modules]="modules" [format]="format" (onEditorCreated)="onEditorCreated($event)" class="w-60">
            <div above-quill-editor-toolbar>above</div>
            <div quill-editor-toolbar class="ql-toolbar">
                <span class="ql-formats">
                    <!-- <button class="ql-header" value="2"></button> -->

                    <select class="ql-header">
                        <option value="2">Heading 2</option>
                        <option value="3">Heading 3</option>
                        <option value="" selected>Normal</option>
                    </select>

                </span>
                <span class="ql-formats">
                    <button class="ql-bold"></button>
                    <button class="ql-italic"></button>
                    <!-- <button class="ql-underline"></button>
                    <button class="ql-strike"></button> -->

                </span>
                <span class="ql-formats">
                    <button class="ql-list" value="ordered"></button>
                    <button class="ql-list" value="bullet"></button>
                    <!-- <select class="ql-align">
                        <option selected></option>
                        <option value="center"></option>
                        <option value="right"></option>
                        <option value="justify"></option>
                    </select> -->
                </span>
                <span class="ql-formats">
                    <button class="ql-blockquote"></button>
                    <button class="ql-code-block"></button>
                </span>
                <!-- <span class="ql-formats">
                    <button class="ql-script" value="sub"></button>
                    <button class="ql-script" value="super"></button>
                    <button class="ql-indent" value="-1"></button>
                    <button class="ql-indent" value="+1"></button>
                    <button class="ql-direction" value="rt1"></button>
                </span> -->
                <!-- <span class="ql-formats">
                    <select class="ql-header">
                        <option selected></option>
                        <option value="1"></option>
                        <option value="2"></option>
                        <option value="3"></option>
                        <option value="4"></option>
                        <option value="5"></option>
                        <option value="6"></option>
                    </select>
                    <select class="ql-font">
                        <option selected></option>
                        <option value="serif"></option>
                        <option value="monospace"></option>
                    </select>
                    <select class="ql-size">
                        <option value="small"></option>
                        <option selected></option>
                        <option value="large"></option>
                        <option value="huge"></option>
                    </select>
                </span> -->

                <!-- <span class="ql-formats">
                    <select class="ql-color"></select>
                    <select class="ql-background"></select>
                </span> -->

                <span class="ql-formats">
                    <!-- <button class="ql-clean"></button> -->
                    <button class="ql-link"></button>
                    <button class="ql-image"></button>
                    <!-- <button class="ql-video"></button> -->
                </span>
            </div>
            <div below-quill-editor-toolbar>below</div>
        </quill-editor>
    </div>
</div>

<!-- Modal de tags -->
<ng-template #createTagModal let-modal>
    <div class="modal-header bg-web-primary text-white px-3 py-1" fxLayout="row" fxLayoutAlign="space-between center">
        <div class="modal-title pd10">
            <span class="ft16 ft500 gray-10">Asignar etiqueta</span>
        </div>
        <img style="cursor: pointer" [src]="icon.close" (click)="modal.dismiss('Cross click')" class="h20px" alt="" />
    </div>
    <div class="modal-body" style="overflow-y: auto; max-height: 80vh">
        <div fxLayout="row" class="fw">
            <div class="form-group fw">
                <label>Nombre de la etiqueta</label>
                <input type="text" class="form-control customInput" [(ngModel)]="newTag"
                    placeholder="Escriba el nombre de la etiqueta" />
                <!-- <div class="invalid-feedback" *ngIf="formNewSkill.controls['nombre'].errors && showErrorSkill">Debe indicar el nombre de la competencia.</div> -->
            </div>
        </div>
        <!-- Botón de guardar en la esquina inferior derecha -->
        <div fxLayout="row" fxLayoutAlign="end end" class="pdt03" style="width: 100%">
            <button (click)="saveTag()" class="blueButton gray-1 radius4 ft12 h28px mgt10" fxLayout="row"
                fxLayoutGap="0.625rem" fxLayoutAlign="center center">
                <img [src]="icon.check" class="h16px pdr05 makeWhite" alt="" />
                Asignar competencia
            </button>
            <!-- <button disabled *ngIf="savingSkill" (click)="saveNewSkill()" class="grayButton gray-8 radius4 ft12 h28px mgt10" fxLayout="row" fxLayoutGap="0.625rem" fxLayoutAlign="center center">
                <mat-spinner class="spinner-dark" diameter="20"></mat-spinner>
                Asignar competencia
            </button> -->
        </div>
    </div>
</ng-template>