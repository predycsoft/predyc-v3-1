<div class="container slider" fxLayout="column">
    <div>
        <span class="ft20 gray-10 ft500">Crear Pago</span>
    </div>
    <div fxLayout="row" fxLayoutGap="1.5rem" class="mgt10">
        <div fxLayout="column">
            <span class="ft11 gray-9">Via:</span>
            <span class="ft11 gray-10 ftup">{{newCharge.via}}</span>
        </div>
        <div fxLayout="column">
            <span class="ft11 gray-9">Identificador:</span>
            <span class="ft11 gray-10">{{newCharge.id}}</span>
        </div>
        <div fxLayout="column">
            <span class="ft11 gray-9">Id Cliente:</span>
            <span class="ft11 gray-10">{{newCharge.customer.id}}</span>
        </div>
        <div fxLayout="column">
            <span class="ft11 gray-9">Fecha de creación:</span>
            <input type="date" [(ngModel)]="fechaString" (ngModelChange)="stringToDate()">
        </div>
    </div>
    <div class="fw mgt10" fxLayout="row" fxLayoutAlign="space-between" fxLayoutGap="2rem">
        <div fxLayout="column" class="fw">
            <div fxLayout="column" class="mgt05 h50px">
                <span class="ft11 gray-9">Producto</span>
                <mat-select placeholder="Seleccione el producto" [(ngModel)]="productId">
                    <mat-option *ngFor="let product of products" [value]="product.id" [ngClass]="product.active?'':'backGray2'">{{product.name}}</mat-option>
                </mat-select>
            </div>
            <div fxLayout="column" class="mgt05 h50px">
                <span class="ft11 gray-9">Precio</span>
                <mat-select placeholder="Seleccione el precio" [(ngModel)]="newCharge.price">
                    <mat-option *ngFor="let price of getFilteredPrice()" [value]="price.id" [ngClass]="price.active?'':'backGray2'">{{price.amount}} {{price.currency}}</mat-option>
                </mat-select>
            </div>
            <div fxLayout="column" class="mgt05 h50px">
                <span class="ft11 gray-9">Descuento</span>
                <mat-select placeholder="Seleccione el descuento si aplica" [(ngModel)]="newCharge.coupon">
                    <mat-option *ngFor="let coupon of getFilteredCoupons()" [value]="coupon.id" [ngClass]="coupon.active?'':'backGray2'">{{coupon.id}}</mat-option>
                </mat-select>
            </div>
            <div class="mgt05 h50px" fxLayout="column">
                <span class="ft11 gray-9">Períodos pagados:</span>
                <input type="number" [(ngModel)]="newCharge.interval">
            </div>
            <!-- <div class="mgt05 h50px" fxLayout="column" *ngIf="getProduct() && getProduct().isACompanyProduct">
                <span class="ft11 gray-9">Cantidad de cupos:</span>
                <input type="number" [(ngModel)]="newCharge.quantity">
            </div> -->
            <div class="mgt05 h50px" fxLayout="column">
                <span class="ft11 gray-9">Comentarios adicionales:</span>
                <input type="text" [(ngModel)]="newCharge.comment">
            </div>
           
        </div>
        <div fxLayout="column" class="fw">
            <div class="mgt05 h50px" fxLayout="column">
                <span class="ft11 gray-9">Monto:</span>
                <div fxLayout="row" fxLayoutAlign=" center" fxLayoutGap="1rem">
                    <input type="number" [value]="getAmount()" readonly>
                    <span class="ft11 gray-9 ftup">{{newCharge.currency}}</span>
                  
                </div>
            </div>
            <div class="mgt05 h50px" fxLayout="column">
                <span class="ft11 gray-9">Monto cobrado:</span>
                <div fxLayout="row" fxLayoutAlign=" center" fxLayoutGap="1rem">
                    <input type="number" [(ngModel)]="newCharge.amountCaptured" [disabled]="newCharge.via != 'Predyc'">
                    <span class="ft11 gray-9 ftup">{{newCharge.currency}}</span>
                </div>
            </div>
            <div class="mgt05 h50px" fxLayout="column">
                <span class="ft11 gray-9">Refunded:</span>
                <div fxLayout="row" fxLayoutAlign=" center" fxLayoutGap="1rem">
                    <input type="number" [(ngModel)]="newCharge.amountRefunded" [disabled]="newCharge.via != 'Predyc'">
                    <span class="ft11 gray-9 ftup">{{newCharge.currency}}</span>
                </div>
            </div>
            <div fxLayout="column" class="mgt05 h50px">
                <span class="ft11 gray-9">Descripción</span>
                <mat-select placeholder="Descripción" [(ngModel)]="newCharge.description" [disabled]="newCharge.via != 'Predyc'">
                    <mat-option value="Suscription creation">Creación de suscripción</mat-option>
                    <mat-option value="Suscription update">Renovación de suscripción</mat-option>
                </mat-select>
            </div>
            <div fxLayout="column" class="mgt05 h50px">
                <span class="ft11 gray-9">Via de transferencia</span>
                <mat-select placeholder="Seleccione via de transferencia" [(ngModel)]="newCharge.origin" [disabled]="newCharge.via != 'Predyc'">
                    <mat-option value="Transferencia USD">Transferencia USD</mat-option>
                    <mat-option value="Transferencia MXN">Transferencia MXN</mat-option>
                    <mat-option value="Paypal">Paypal</mat-option>
                    <mat-option value="Stripe">Stripe</mat-option>
                    <mat-option value="Stripe">Zelle</mat-option>

                </mat-select>
            </div>
            <div fxLayout="column" class="mgt05 h50px">
                <span class="ft11 gray-9">Status</span>
                <mat-select [(ngModel)]="newCharge.status" (ngModelChange)="updateCaptureAmount()" placeholder="Seleccione el precio" [disabled]="newCharge.via != 'Predyc'">
                    <mat-option value="succeeded">Pagado</mat-option>
                    <mat-option value="failed">Fallido</mat-option>
                    <mat-option value="pending">Pendiente</mat-option>
                </mat-select>
            </div>
        </div>
    </div>
    <div class="fw mgt20" fxLayout="row" fxLayoutAlign="start" fxLayoutGap="1rem">
        <div class="backBlue5 pd03 radius6 w150px centertext cursorPointer" fxLayoutAlign="center center" fxLayout="row"
            fxLayoutGap=".5rem" (click)="saveCharge()">
            <mat-icon class="ft16 gray-1 pd0">save</mat-icon>
            <span class="gray-1 ft12 ft500">Guardar</span>
        </div>
        <div class="backRed5 pd03 radius6 w150px centertext cursorPointer" fxLayoutAlign="center center" fxLayout="row"
            fxLayoutGap=".5rem" (click)="cancel()">
            <mat-icon class="ft16 gray-1 pd0">cancel</mat-icon>
            <span class="gray-1 ft12 ft500 ">Cancelar</span>
        </div>
    </div>

</div>